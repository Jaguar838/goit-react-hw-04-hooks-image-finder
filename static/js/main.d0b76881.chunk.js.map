{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","UI/Modal/Modal.module.css","components/ImageGalleryList/ImageGalleryList.module.scss","UI/Spinner/Spinner.module.scss","components/ImageGallery/ImageGallery.module.scss","components/SearchBar/SearchBar.module.scss","UI/Layout/Layout.style.js","UI/Layout/Layout.jsx","components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGalleryList/ImageGalleryList.jsx","utils/apiService.js","utils/scroll.js","UI/Spinner/Spinner.jsx","UI/Button/Button.style.js","UI/Button/Button.jsx","UI/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/App/App.jsx","index.js"],"names":["module","exports","Container","styled","div","Layout","children","SearchBar","onSubmit","useState","searchQuery","setSearchQuery","resetSearch","className","css","Searchbar","event","preventDefault","trim","toast","error","position","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","placeholder","onChange","target","value","ImageGalleryItem","webformatURL","tags","largeImageURL","modalImage","ImageGalleryItem_image","src","alt","onClick","ImageGalleryList","images","map","uuidv4","axios","defaults","baseURL","params","key","image_type","orientation","per_page","fetchImg","a","query","currentPage","get","q","page","data","hits","scroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","Spinner","color","height","width","timeout","Btn","button","Button","isLoading","visible","modalRoot","querySelector","Modal","onCloseModal","useEffect","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","Overlay","currentTarget","ImageGallery","state","showModal","fetchImages","options","props","setState","then","prevState","catch","err","finally","toggleModal","handleModalImage","url","prevProps","this","showButton","length","Error","Component","App","setQuery","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d0b76881.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__16FoS\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1L5hd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__ckBRK\",\"modal\":\"Modal_modal__3kJA2\",\"Overlay\":\"Modal_Overlay__gDpz-\",\"Modal\":\"Modal_Modal__3PEiX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryList\":\"ImageGalleryList_ImageGalleryList__3xkyd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Spinner_Spinner__3TPaM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"ImageGallery_Error__3eaHT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1pF-d\",\"SearchForm\":\"SearchBar_SearchForm__1zIzW\",\"SearchForm_button\":\"SearchBar_SearchForm_button__2hcn2\",\"SearchForm-button\":\"SearchBar_SearchForm-button__3CiaQ\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__1Y1sT\",\"SearchForm_input\":\"SearchBar_SearchForm_input__yLRGZ\"};","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  width: 1280px;\r\n  margin: 0 auto;\r\n  padding: 0 20px;\r\n\r\n  @media (max-width: 1283px) {\r\n    width: 940px;\r\n  }\r\n\r\n  @media (max-width: 992px) {\r\n    width: 700px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    width: 520px;\r\n  }\r\n\r\n  @media (max-width: 576px) {\r\n    width: 90%;\r\n  }\r\n`;\r\n","import { Container } from './Layout.style';\r\nimport React from 'react';\r\n\r\nconst Layout = ({ children }) => <Container>{children}</Container>;\r\n\r\nexport default Layout;\r\n","import React, { useState } from 'react';\n\nimport css from './SearchBar.module.scss';\nimport toast, { Toaster } from 'react-hot-toast';\n\nexport const SearchBar = ({ onSubmit }) => {\n    const [searchQuery, setSearchQuery] = useState('');\n\n    const handleSubmit = event => {\n        event.preventDefault();\n        if (searchQuery.trim() === '') {\n            toast.error('Введите поисковый запрос', {\n                position: 'top-center',\n            });\n            return;\n        }\n        onSubmit(searchQuery);\n        resetSearch();\n    };\n\n    const resetSearch = () => {\n        setSearchQuery('');\n    };\n\n    return (\n        <header className={css.Searchbar}>\n            <form onSubmit={handleSubmit} className={css.SearchForm}>\n                <button type=\"submit\" className={css.SearchForm_button}>\n                    <span className={css.SearchForm_button_label}>Search</span>\n                </button>\n                <input\n                    className={css.SearchForm_input}\n                    type=\"text\"\n                    placeholder=\"Search images and photos\"\n                    onChange={event => setSearchQuery(event.target.value)}\n                    value={searchQuery}\n                />\n            </form>\n            <Toaster />\n        </header>\n    );\n};\n","import React from 'react';\nimport css from './ImageGalleryItem.module.scss';\nconst ImageGalleryItem = ({\n    webformatURL,\n    tags,\n    largeImageURL,\n    modalImage,\n}) => {\n    return (\n        <li className={css.ImageGalleryItem}>\n            <img\n                className={css.ImageGalleryItem_image}\n                src={webformatURL}\n                alt={tags}\n                data-url={largeImageURL}\n                onClick={() => modalImage(largeImageURL)}\n            />\n        </li>\n    );\n};\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport css from './ImageGalleryList.module.scss';\n\nconst ImageGalleryList = ({ images, modalImage }) => {\n    return (\n        <ul className={css.ImageGalleryList}>\n            {images?.map(({ webformatURL, tags, largeImageURL }) => {\n                return (\n                    <ImageGalleryItem\n                        key={uuidv4()}\n                        webformatURL={webformatURL}\n                        tags={tags}\n                        largeImageURL={largeImageURL}\n                        modalImage={modalImage}\n                    />\n                );\n            })}\n        </ul>\n    );\n};\n\nImageGalleryList.propTypes = {\n    images: PropTypes.array.isRequired,\n    modalImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryList;\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\naxios.defaults.params = {\r\n    key: '21828776-3a3234db6b008ce4834511463',\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    per_page: 12,\r\n};\r\n\r\nconst fetchImg = async ({ query = '', currentPage = 1 }) => {\r\n    const { data } = await axios.get('', {\r\n        params: { q: query, page: currentPage },\r\n    });\r\n    return data.hits;\r\n};\r\n\r\nexport default fetchImg;\r\n","/**\r\n * Scrolling window to end\r\n */\r\nexport const scroll = () => {\r\n    window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n    });\r\n};\r\n","import Loader from 'react-loader-spinner';\r\nimport css from './Spinner.module.scss';\r\nconst Spinner = () => (\r\n    <div className={css.Spinner}>\r\n        <Loader\r\n            type=\"Hearts\"\r\n            color=\"#3f51b5\"\r\n            height={200}\r\n            width={200}\r\n            timeout={10000}\r\n        />\r\n    </div>\r\n);\r\n\r\nexport default Spinner;\r\n","import styled from 'styled-components';\r\n\r\nexport const Btn = styled.button`\r\n     {\r\n        padding: 8px 16px;\r\n        border-radius: 2px;\r\n        background-color: #3f51b5;\r\n        transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n        text-align: center;\r\n        display: block;\r\n        color: #fff;\r\n        border: 0;\r\n        text-decoration: none;\r\n        cursor: pointer;\r\n        font-family: inherit;\r\n        font-size: 18px;\r\n        line-height: 24px;\r\n        font-style: normal;\r\n        font-weight: 500;\r\n        width: 100%;\r\n        box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n            0px 2px 2px 0px rgba(0, 0, 0, 0.14),\r\n            0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n        margin-left: auto;\r\n        margin-right: auto;\r\n    }\r\n\r\n    &:hover,\r\n    &:focus {\r\n        background-color: #303f9f;\r\n    }\r\n`;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport PropTypes from 'prop-types';\r\nimport { Btn } from './Button.style';\r\n\r\nconst Button = ({ onClick, isLoading }) => (\r\n    <Btn onClick={onClick}>\r\n        <Loader\r\n            type=\"TailSpin\"\r\n            color=\"#00BFFF\"\r\n            height={20}\r\n            width={20}\r\n            visible={isLoading}\r\n        />\r\n        {isLoading ? '' : 'Load more'}\r\n    </Btn>\r\n);\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    isLoading: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport css from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onCloseModal, children }) {\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    });\r\n\r\n    const handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            onCloseModal();\r\n        }\r\n    };\r\n\r\n    const handleBackdropClick = e => {\r\n        if (e.target === e.currentTarget) {\r\n            onCloseModal();\r\n        }\r\n    };\r\n\r\n    return createPortal(\r\n        <div className={css.Overlay} onClick={handleBackdropClick}>\r\n            <div className={css.Modal}>{children}</div>\r\n        </div>,\r\n        modalRoot,\r\n    );\r\n}\r\n\r\nModal.propTypes = {\r\n    onCloseModal: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from 'react';\nimport ImageGalleryList from '../ImageGalleryList';\nimport fetchImg from 'utils/apiService';\nimport { scroll } from 'utils/scroll';\nimport { Spinner } from 'UI/Spinner';\nimport { Button } from 'UI/Button';\nimport Modal from 'UI/Modal';\n// import toast, { Toaster } from 'react-hot-toast';\nimport css from './ImageGallery.module.scss';\n\n// import PropTypes from 'prop-types';\nexport class ImageGallery extends Component {\n    state = {\n        images: [],\n        currentPage: 1,\n        isLoading: false,\n        error: null,\n        showModal: false,\n        largeImageURL: null,\n    };\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.query !== this.props.query) {\n            this.setState({ currentPage: 1, images: [], error: null }, () =>\n                this.fetchImages(),\n            );\n        }\n    }\n\n    fetchImages = () => {\n        const { currentPage } = this.state;\n        const { query } = this.props;\n        const options = {\n            query,\n            currentPage,\n        };\n\n        this.setState({ isLoading: true });\n\n        fetchImg(options)\n            .then(images =>\n                this.setState(prevState => ({\n                    images: [...prevState.images, ...images],\n                    currentPage: prevState.currentPage + 1,\n                })),\n            )\n            .catch(err => this.setState({ err }))\n            .finally(() => {\n                scroll();\n                this.setState({ isLoading: false });\n            });\n    };\n\n    toggleModal = () => {\n        this.setState(({ showModal }) => ({ showModal: !showModal }));\n        this.setState({ largeImageURL: null });\n    };\n\n    handleModalImage = url => {\n        this.toggleModal();\n        this.setState({ largeImageURL: url });\n    };\n\n    render() {\n        const { showModal, images, error, isLoading, largeImageURL } =\n            this.state;\n\n        const showButton = !(images.length % 12) && images.length > 0;\n        return (\n            <>\n                {isLoading && <Spinner />}\n                {error && <h2 className={css.Error}>{error}</h2>}\n                <ImageGalleryList\n                    images={images}\n                    modalImage={this.handleModalImage}\n                />\n                {showButton && (\n                    <Button\n                        onClick={this.fetchImages}\n                        isLoading={isLoading}\n                    ></Button>\n                )}\n                {showModal && (\n                    <Modal onCloseModal={this.toggleModal}>\n                        <img src={largeImageURL} alt=\"\" />\n                    </Modal>\n                )}\n            </>\n        );\n    }\n}\n","import React, { useState } from 'react';\n\nimport { Layout } from 'UI/Layout';\nimport { SearchBar } from 'components/SearchBar';\nimport { ImageGallery } from 'components/ImageGallery';\n\nexport default function App() {\n    const [query, setQuery] = useState('');\n\n    const handleSubmitSearchbar = query => {\n        setQuery(query);\n    };\n    return (\n        <Layout>\n            <SearchBar onSubmit={handleSubmitSearchbar} />\n            <ImageGallery query={query} />\n        </Layout>\n    );\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { App } from './components';\r\n\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}